<!DOCTYPE html>
<html style="width: 100%;">
<head>
    <meta charset='utf-8'>
    <!-- <meta http-equiv='X-UA-Compatible' content='IE=edge'> -->
    <title>Kavade
    </title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <link rel='stylesheet' type='text/css' media='screen' href='main.css'> -->
    <!-- <script src='main.js'></script> -->
</head>
<body style="width:100%;">
<style>
html,body {
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100%;
      }
     
      @media screen and (max-width: 600px) {
  div.template {
    visibility: hidden;
    clear: both;
    float: left;
    margin: 10px auto 5px 20px;
    width: 28%;
    display: none;
  }
}
     

    .box {
      background-image: url("./1.jpeg");
      background-size: 120px 126px; 
      border: 1px black;
        padding: 10px;
        font-size: 150%;
      }
      
      .wrapper {
        display: grid;
        grid-gap: 2px;
        grid-template-columns: repeat(5, 123px);
        grid-template-rows: repeat(5, 126px);
        grid-auto-flow: column;
      }
.safe {
  background-image: url("./2.jpeg");
}
.template{
  background-image: url('./2.png');
  background-repeat: no-repeat;
  background-size: 100% 100%;
  float: right;
  width:650px;
  height: 370px;
margin-top: 50px;
margin-right: 50px;
}

.dropbtn {
  background-color: white;
  padding: 15px;
  font-size: 14px;
  border:0px;
 
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #ffffff;
  min-width: 100px;
  
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 10px 14px;
  text-decoration: none;
  display: block;
}

.dropdown-content a:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

.dropdown:hover .dropbtn {background-color: #3e8e41;}

#button{
  background-color: rgb(67, 168, 222);
  width :200px;
  height: 40px;
  border-radius: 5px;
  margin-top: 40px;
}
#points{
  font-size: 25px;
  margin-top: 10px;
}


</style>

<div style="font-size: 13.3px;">Collect your pawns from here</div>


<!-- board -->
<div style="margin: 3% 5% 2% 1%; float: left;">
      <div class="wrapper" >
        <div class=" box" id="1"></div>
        <div class="box" id="2"></div>
        <div class="box safe" id="3" style="text-align: center; font-size: 14px;">yellow</div>
        <div class="box " id="4"></div>
        <div class="box " id="5"></div>
        <div class="box " id="6"></div>
        <div class="box " id="7"></div>
        <div class="box " id="8"></div>
        <div class="box " id="9"></div>
        <div class="box " id="10"></div>
        <div class="box safe " id="11" style="text-align: center; font-size: 14px;">Red</div>
        <div class="box " id="12"></div>
        <div class="box safe" id="13"></div>
        <div class="box "id="14"></div>
        <div class="box safe" id="15" style="text-align: center; font-size: 14px;">Green</div>
        <div class="box " id="16"></div>
        <div class="box " id="17"></div>
        <div class="box " id="18"></div>
        <div class="box " id="19"></div>
        <div class="box " id="20"></div>
        <div class="box " id="21"></div>
        <div class="box " id="22"></div>
        <div class="box safe " id="23" style="text-align: center; font-size: 14px;">Black</div>
        <div class="box " id="24"></div>
        <div class="box " id="25"></div>
      </div>

    </div>




   

    <div class="dropdown" style="float: right;">
      <button class="dropbtn" style="float: right;">Menu</button>
      <div class="dropdown-content" >
        <a href="./Rules.html">Rules</a>
        <a href="./Layout.html">Layout</a>
        <a href="https://abhilashgokhale.github.io/site/">About</a>
      </div>
    </div>
    
<div style="height:20px;"></div>Started By : Yellow<input type="checkbox" value="yellow" id="yellow" >  Red<input type="checkbox" value="red" id="red">  Black<input type="checkbox" value="black" id="black">  Green<input type="checkbox" value="Green" id="green">
<button id="okbtn" onclick="startby()">OK</button>
<div class="startedbynote" id="startedbynote"></div><br>
 <div style="font-size:30px" >Instructions</div>
 <div>Current Chance :&nbsp;
  <span id="mydivchance" style="margin-left: 1px; border-radius: 50%; width: 15px; height: 15px;display:inline-flex;justify-content:center;align-items:center"></span>
</div>
<div class=" points" id="points"></div>
<div class="note" id="note" style=" margin-top: 5px;"></div>
<div class=" total" id="total" style=" margin-top: 5px;" ></div>



Moved pawns?<input type="checkbox" id="checkbox" checked="true" /> <button id="button" onclick="random(kil)" onkeypress="random(kil)" >ROll KAVADE</button>    <div style="height:20px; float:right;"><b>Kadatra note :</b><br> Yellow<input type="checkbox" >  <br>Red<input type="checkbox"> <br> Black<input type="checkbox" >  <br>Green<input type="checkbox" >
</div>

<br> <button id="kill" onclick="kill()"style="background-color: red ; color:white ;border-radius:5px;">Kill?</button>

<div class="killnote" id="killnote" style=" margin-top: 5px;"></div>
<div class="template"></div>

<!-- black --><span id="containerblack">
  <div class="draggable"  style="position:absolute; top:1px; left:200px; width:25px; height:25px; background:rgb(0, 0, 0); border-radius: 50%;"></div>
  <div class="draggable" style="position:absolute; top:1px; left:200px; width:25px; height:25px; background:rgb(0, 0, 0); border-radius: 50%;"></div>
  <div class="draggable"  style="position:absolute; top:1px; left:200px; width:25px; height:25px; background:rgb(0, 0, 0); border-radius: 50%;"></div>
  <div class="draggable"  style="position:absolute; top:1px; left:200px; width:25px; height:25px; background:rgb(0, 0, 0); border-radius: 50%;"></div>
</span>
<!-- yellow -->
<div class="draggable"  style="position:absolute; top:1px; left:170px; width:25px; height:25px; background:rgb(255, 251, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:170px; width:25px; height:25px; background:rgb(255, 251, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:170px; width:25px; height:25px; background:rgb(255, 251, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:170px; width:25px; height:25px; background:rgb(255, 251, 0); border-radius: 50%;"></div>

<div class="draggable"  style="position:absolute; top:1px; left:230px; width:25px; height:25px; background:rgb(255, 0, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:230px; width:25px; height:25px; background:rgb(255, 0, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:230px; width:25px; height:25px; background:rgb(255, 0, 0); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:230px; width:25px; height:25px; background:rgb(255, 0, 0); border-radius: 50%;"></div>

<div class="draggable"  style="position:absolute; top:1px; left:260px; width:25px; height:25px; background:rgb(12, 233, 42); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:260px; width:25px; height:25px; background:rgb(12, 233, 42); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:260px; width:25px; height:25px; background:rgb(12, 233, 42); border-radius: 50%;"></div>
<div class="draggable"  style="position:absolute; top:1px; left:260px; width:25px; height:25px; background:rgb(12, 233, 42); border-radius: 50%;"></div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>   


    <script>
      


//drag starts here
$(document).ready(function() {
                
                $(".draggable").draggableTouch();
            
            $(".draggable").bind("dragstart", function(e, pos) {
                console.log("dragstart:", this, pos.left + "," + pos.top);
                document.getElementById("checkbox").checked=true;
            }).bind("dragend", function(e, pos) {
                console.log("dragend:", this, pos.left + "," + pos.top);
            });
        });
        
        // if this is a touch device, we assume we don't have a visible console and use
        // a crappy homemade one :)
        if ("ontouchstart" in document.documentElement) {
            window.console = {
                log: function(a, b, c) {
                    if (a && b && c)
                        $("<div>" + a + " " + b + " " + c + "</div>").appendTo($("#console"));
                    else if (a && b)
                        $("<div>" + a + " " + b + "</div>").appendTo($("#console"));
                    else if (a)
                        $("<div>" + a + "</div>").appendTo($("#console"));
                }
            };
        }


/**
* jQuery Draggable Touch v0.6
* Jonatan Heyman | http://heyman.info 
*
* Make HTML elements draggable by using uses touch events.
* The plugin also has a fallback that uses mouse events, 
* in case the device doesn't support touch events.
* 
* Licenced under THE BEER-WARE LICENSE (Revision 42):
* Jonatan Heyman (http://heyman.info) wrote this file. As long as you retain this 
* notice you can do whatever you want with this stuff. If we meet some day, and 
* you think this stuff is worth it, you can buy me a beer in return.
*/
;(function($){
$.fn.draggableTouch = function(actionOrSettings) {
    // check if the device has touch support, and if not, fallback to use mouse
    // draggableMouse which uses mouse events
    if (window.ontouchstart === undefined) {
        return this.draggableMouse(actionOrSettings);
    }

    if (typeof(actionOrSettings) == "string") {
        // check if we shall make it not draggable
        
            this.unbind("touchstart.draggableTouch");
            this.unbind("touchmove.draggableTouch");
            this.unbind("touchend.draggableTouch");
            this.unbind("touchcancel.draggableTouch");
            
            this.trigger("dragdisabled");

            return this;
        
    } else {
        var useTransform = actionOrSettings && actionOrSettings.useTransform;
    }
    
    this.each(function() {
        var element = $(this);
        var offset = null;
        var draggingTouchId = null;
        var end = function(e) {
            e.preventDefault();
            var orig = e.originalEvent;
            for (var i=0; i<orig.changedTouches.length; i++) {
                var touch = orig.changedTouches[i];
                // the only touchend/touchcancel event we care about is the touch
                // that started the dragging
                if (touch.identifier != draggingTouchId) {
                    continue;
                }
                element.trigger("dragend", {
                    top: orig.changedTouches[0].pageY - offset.y,
                    left: orig.changedTouches[0].pageX - offset.x
                });
                draggingTouchId = null;
                
                
            }
        };
        
        element.bind("touchstart.draggableTouch", function(e) {
            e.preventDefault();
            var orig = e.originalEvent;
            // if this element is already being dragged, we can early exit, otherwise
            // we need to store which touch started dragging the element
            if (draggingTouchId) {
                return;
            } else {
                draggingTouchId = orig.changedTouches[0].identifier;
            }
            var pos = $(this).position();
            offset = {
                x: orig.changedTouches[0].pageX - pos.left,
                y: orig.changedTouches[0].pageY - pos.top
            };
            element.trigger("dragstart", pos);
            document.getElementById("checkbox").checked=true;
        });
        element.bind("touchmove.draggableTouch", function(e) {
            e.preventDefault();
            var orig = e.originalEvent;
            
            for (var i=0; i<orig.changedTouches.length; i++) {
                var touch = orig.changedTouches[i];
                // the only touchend/touchcancel event we care about is the touch
                // that started the dragging
                if (touch.identifier != draggingTouchId) {
                    continue;
                }
                if (useTransform) {
                    $(this).css({
                        "transform": "translate3d(" + (touch.pageX - offset.x) + "px, " + (touch.pageY - offset.y) + "px, 0px)",
                    });
                } else {
                    $(this).css({
                        top: touch.pageY - offset.y,
                        left: touch.pageX - offset.x
                    });
                }
            }
        });
        element.bind("touchend.draggableTouch touchcancel.draggableTouch", end);
    });
    return this;
};

/**
 * Draggable fallback for when touch is not available
 */
$.fn.draggableMouse = function (actionOrSettings) {
    if (typeof(actionOrSettings) == "string") {
        // check if we shall make it not draggable
        if (actionOrSettings == "disable") {
            this.unbind("mousedown.draggableTouch");
            this.unbind("mouseup.draggableTouch");
            $(document).unbind("mousemove.draggableTouch");

            this.trigger("dragdisabled");

            return this;
        }
    } else {
        var useTransform = actionOrSettings && actionOrSettings.useTransform;
    }
    
    this.each(function() {
        var element = $(this);
        var offset = null;
        
        
        var move = function(e) {
            if (useTransform) {
                element.css({
                    "transform": "translate3d(" + (e.pageX - offset.x) + "px, " + (e.pageY - offset.y) + "px, 0px)",
                });
            } else {
                element.css({
                    top: e.pageY - offset.y,
                    left: e.pageX - offset.x,
                });
            }
        };
        var up = function(e) {
            element.unbind("mouseup.draggableTouch", up);
            $(document).unbind("mousemove.draggableTouch", move);
            element.trigger("dragend", {
                top: e.pageY - offset.y,
                left: e.pageX - offset.x
            });
        };
        element.bind("mousedown.draggableTouch", function(e) {
            var pos = element.position();
            offset = {
                x: e.pageX - pos.left,
                y: e.pageY - pos.top
            };
            $(document).bind("mousemove.draggableTouch", move);
            element.bind("mouseup.draggableTouch", up);
            element.trigger("dragstart", pos);
            e.preventDefault();
        });
    });
    return this;
};
})(jQuery);
// movement ends here




    function kill(){
      document.getElementById("checkbox").checked=true;
      document.getElementById("note").textContent="Roll again, You have extra moves"; 
      var kil =true;
      
      
  
    }


    var kil =kill();
    document.getElementById("killnote").textContent="";
   i=1;
    document.getElementById("startedbynote").textContent="Select one color";

x=null;
    function startby(){
          
          if ( document.getElementById("red").checked){
            document.getElementById("startedbynote").textContent="Red";
            x=1;            
          }
          else if(document.getElementById("yellow").checked){
            document.getElementById("startedbynote").textContent="Yellow";
            x=4;
          
          }
          else if(document.getElementById("green").checked){
            document.getElementById("startedbynote").textContent="Green";
            x=3;
          
          }
          else if(document.getElementById("black").checked){
            document.getElementById("startedbynote").textContent="Black";
            x=2;
          
          }
          else{
            document.getElementById("startedbynote").textContent="Select one color";
            
          }
          
      
        }
    console.log("x is"+x);

      function random(kill){ 
        
        
    if ( document.getElementById("startedbynote").textContent !="Select one color"){

    
      if (document.getElementById("checkbox").checked==true|| kill){
        if (document.getElementById("killnote").textContent=="You have extra moves"){
          i=i;
        }
        else{
          i=i+1;
        }
        if ( document.getElementById("red").checked ||document.getElementById("black").checked ||document.getElementById("green").checked ||document.getElementById("yellow").checked ){
          var y=i+x;
            var numfromrandom = generatenum();
            givenote(numfromrandom);
            nowplay();
            document.getElementById("killnote").textContent="";
            document.getElementById("checkbox").checked=!true;
            
            
          }
        else{
          console.log("startedby");
        }
        
      }
      else{
        document.getElementById("points").textContent="Tick the checkbox"; 
      }}
      console.log(i);
      return i;
      




        function generatenum(){
          
          var random = Math.floor(Math.random() *5)+1;
          var randomnum = null;
          if (random==5){
            var randomnum = 8;
          }
          else {
            randomnum =random;
          }
          
          document.getElementById("points").textContent=randomnum; 
          return randomnum;
          
        }
        

        function nowplay(){
          
          var checker = (y%4)-1;
          console.log("checker is"+checker);
          if (checker ==1 ){
            document.getElementById("mydivchance").style.backgroundColor="yellow";
          }
          
          else if(checker==2){
            document.getElementById("mydivchance").style.backgroundColor="red";
          }
          else if(checker==-1){
            document.getElementById("mydivchance").style.backgroundColor="black";
          }
          else if(checker ==0) {
            document.getElementById("mydivchance").style.backgroundColor="green";
          }
          else{
            document.getElementById("mydivchance").style.backgroundColor="white";
          }
          
        }
        
        function givenote(numfromrandom){
          

          if (numfromrandom==1 || numfromrandom==2 ||numfromrandom==3){
            document.getElementById("note").textContent="Move "+numfromrandom+" spaces"; 
            document.getElementById("total").textContent="Move "+numfromrandom+"+0="+numfromrandom+" spaces";
            
          }
          else {
            document.getElementById("note").textContent="Rolling kavade"; 
            var newnum=generatenum();
            var shownum= newnum +numfromrandom;
            
            if (newnum==1 || newnum==2 ||newnum==3){
              document.getElementById("total").textContent="Move "+numfromrandom+"+"+ newnum+"="+shownum+" spaces";
              
            }
            else{
              var againnewnum = generatenum();
              var showwnum =shownum+ againnewnum;
              console.log(numfromrandom+" "+newnum+" "+againnewnum);
              
              
              if (againnewnum==1||againnewnum==2||againnewnum==3){
                document.getElementById("total").textContent="Move "+numfromrandom+"+"+ newnum+"+"+againnewnum+"="+showwnum+" spaces";
                
              }
              else{
                if(numfromrandom==newnum && newnum==againnewnum){
                document.getElementById("total").textContent="0 Move. You got "+newnum+" thrise continuously";
                
                
                  }
                else{
                  var lastnum=generatenum();
                  var finalnum=lastnum+showwnum;
                  console.log(numfromrandom+" "+newnum+" "+againnewnum+" "+ finalnum+" ")
                  document.getElementById("total").textContent="Move "+numfromrandom+"+"+ newnum+"+"+againnewnum+"+"+lastnum+"="+finalnum+" spaces";
                  

                }
              }
            }

          }

        }
        
        
      }
      
     
    </script>
    <script type="text/javascript">
      window.onbeforeunload = function () {
       return 'Are you really want to perform the action?';
      }
     </script>
</body>
</html>
